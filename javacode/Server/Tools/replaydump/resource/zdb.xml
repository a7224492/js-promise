<?xml version="1.0" encoding="UTF-8"?>
<project name="GameServer" xmlns:xi="http://www.w3.org/2001/XInclude">
	<zdb>
		<!-- ===================战绩与回放======================= -->

		<cbean name="GlobalRoomId">
			<variable name="createTime" type="long" />
			<variable name="roomId" type="int" />
		</cbean>

		<xbean name="RoleInfo">
			<variable name="historyRooms" type="vector" value="GlobalRoomId" />
		</xbean>

		<!-- key为role_id 记录玩家的战绩列表 -->
		<table name="role_history_rooms" key="int" value="RoleInfo" />

		<xbean name="RoomHistoryPlayerInfo">
			<variable name="roleId" type="int" />
			<variable name="position" type="int" />
			<variable name="nickname" type="string" />
			<variable name="headImgUrl" type="string" />
			<variable name="sex" type="int"/>
			<variable name="totalPoint" type="int" />
		</xbean>

		<xbean name="RoundRecord">
			<variable name="bytes" type="vector" value="byte" />
			<variable name="playbackDatas" type= "vector" value="byte"/>
		</xbean>

		<xbean name="RoomHistory">
			<variable name="roomId" type="int" />
			<variable name="createTime" type="long" />
			<variable name="roundType" type="int" />
			<variable name="roundCount" type="int"/>
			<variable name="playerMaxCardCount" type="int"/>
			<variable name="gameplays" type="vector" value="int"/>
			<variable name="playerInfo" type="map" key="int" value="RoomHistoryPlayerInfo" />
			<variable name="roundRecord" type="vector" value="RoundRecord" />
			<variable name="enableMutilHu" type="boolean"/>
		</xbean>

		<!-- 战绩与回放数据 -->
		<table name="room_history" key="GlobalRoomId" value="RoomHistory" />
	</zdb>
</project>